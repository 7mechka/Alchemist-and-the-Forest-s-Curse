define t = Character('Тереза', color="#89dfeb")

define teresa_eyes_list = [
    "teresa-eyes-smile", # 0
    "teresa-eyes-default", # 1
    "teresa-eyes-angry", # 2
    "teresa-eyes-angry-simple", # 3
    "teresa-eyes-close", # 4
    "teresa-eyes-close-angry" # 5
]

define teresa_mouth_list = [
    "teresa-mouth-simple", # 0
    "teresa-mouth-default", # 1
    "teresa-mouth-angry", # 2
    "teresa-mouth-angry-simple", # 3
    "teresa-mouth-shocked", # 4
    "teresa-mouth-happy"    # 5
]

define teresa_pose_list = [
    "teresa-pos1", # 0
    "teresa-pos2", # 1
    "teresa-pos3", # 2
    "teresa-pos3-glass" # 3
]

screen teresa_sprite(pos=0, mouth=0, eyes=0, glass=1, x_pos = 0.5):
    add 'characters/teresa/'+teresa_pose_list[pos]+".png" at default_transform xalign x_pos
    add 'characters/teresa/'+teresa_mouth_list[mouth]+".png" at default_transform xalign x_pos
    add 'characters/teresa/'+teresa_eyes_list[eyes]+".png" at default_transform xalign x_pos
    if glass == 1:
        add 'characters/teresa/teresa-glass.png' at default_transform xalign x_pos

label teresa1:
    "Ты входишь в аптеку, и тебя окутывает смесь сухих трав, медикаментов и старого дерева — лёгкий, терпкий запах, сразу напоминающий о больничных коридорах."

    "Скрип двери ещё не успел стихнуть, а ты уже ловишь себя на мысли, что здесь уютнее, чем ожидалось: мягкий свет, ровные стеллажи, аккуратность без показной стерильности."

    "Перед тобой небольшой зал с ровными серыми плитами на полу и деревянными дверями, каждая со своей табличкой — простые, но говорящие."

    "Слева приоткрыта дверь с надписью 'Касса' — приглушённый свет и лёгкий шорох за стеклом улавливают внимание первыми."

    "Правее — две закрытые двери: 'Туалет' и 'Тех.'. На одну даже висит табличка 'не входить' — зачем-то, хотя замок и так закрыт."

    "Ты на секунду задумываешься, словно улавливая невидимый взгляд камеры, потом решительно двигаешься к кассе, дверь отзывается мягким скрипом."

    "Внутри — пара скромных стульев для посетителей и длинная витрина, за которой целый арсенал из коробок, банок, флаконов — всё аккуратно расставлено, как в музее."

    "Ты замечаешь движение: за стеклом поднимается женщина — не молоденькая фармацевтка, а зрелая, уверенная фигура. Её голос раздаётся прежде, чем ты успеваешь толком рассмотреть лицо."

    show screen teresa_sprite(pos=0, mouth=0, eyes=0)

    t "Здравствуйте, чем могу помочь?"

    "Ты чуть склоняешься вперёд, киваешь — как вежливый гость, впервые переступивший порог."

    hero "Здравствуйте, меня зовут Кристофер, я недавно переехал сюда, хожу смотрю ваш городок."

    "Женщина выпрямляется, взгляд становится чуть уже, оценивающий — как будто прикидывает, не врёшь ли ты. И потом..."

    show screen teresa_sprite(pos=3, mouth=1, eyes=3)

    t "Это ведь вы новый алхимик что у нас поселился?"

    hero "Да, это я, но я именно зельевар."

    hide screen teresa_sprite

    "Её плечи оседают, как под тяжестью знакомого разочарования. Тереза шумно выдыхает, прикрывает глаза рукой, проводит ладонью по лицу и опускается на своё кресло с заметной тяжестью."

    "Ты уже начинаешь догадываться о причине, но ждал бы, конечно, более тёплого приёма."

    show screen teresa_sprite(pos=3, mouth=3, eyes=3)

    t "Мне говорили что ты вроде нормальный парень, поэтому скажу тебе прямо..."

    t "Я не хочу тебя здесь видеть."

    t "Ты мне не нравишься."

    "Твоя бровь невольно поднимается. Она смотрит на тебя прямо, сдержанно, но без злобы. Как бухгалтер, закрывающий доступ к главной книге."

    "Ты киваешь — чуть насмешливо, чуть удивлённо, и присаживаешься на один из стульев перед витриной. Ощущение — будто сел перед экзаменатором."

    hero "Чем же я таким нагрешил, что вы так мной недовольной с нулевой секунды, госпожа Тереза?"

    show screen teresa_sprite(pos=1, mouth=2, eyes=3)

    "Она скрещивает руки на груди и смотрит свысока, как будто твой титул — заноза в её горле."

    t "Не называй меня так."

    "Её голос звучит тяжело, без пафоса, но с таким упрямством, что чувствуешь — спорить будет бесполезно."

    "Она облокачивается на стекло и продолжает."

    show screen teresa_sprite(pos=1, mouth=3, eyes=3)

    t "У меня тут единственная аптека на весь город, хороший бизнес приносит хорошие деньги."

    t "Но потом появляешься ты, со своими волшебными зельями, которые могут вылечит всё и дешево."

    "Ты замечаешь, как она невольно кусает губу, словно сдерживая нечто более грубое, чем сказала."

    "Вы молчите, глядя друг на друга, как два шахматиста перед первым ходом."

    hero "Вау."

    hero "Я видел, как новоиспеченная группировка, которая потом стала мафией, захватила целый город..."

    "Твоё тело чуть подаётся вперёд — ты будто выныриваешь из собственного прошлого."

    hero "Даже там не было такой неприязни, как тут."

    show screen teresa_sprite(pos=1, mouth=2, eyes=1)

    t "Что?"

    show screen teresa_sprite(pos=1, mouth=2, eyes=3)

    "Ты резко переводишь взгляд на неё. Её глаза прищуриваются — интерес побеждает раздражение."

    t "Ты видел как мафия захватила город?"

    hero "У меня есть свои темные пятна при учебе в Академии..."

    hero "Но даже с ними у меня не было мысли мешать твоей работе."

    show screen teresa_sprite(pos=2, mouth=2, eyes=3)

    "Когда ты упоминаешь Академию — её брови снова сдвигаются. Ты чувствуешь, как её уверенность начинает плавиться под напором."

    hide screen teresa_sprite

    hero "Давай отступим от этой темы. У меня есть к тебе дело, которое вообще не касается магазинной тематики."

    "Ты очень вкратце рассказываешь про адаптацию рецепта, и что тебе нужна помощь с поиском нужных растений."

    show screen teresa_sprite(pos=1, mouth=1, eyes=1)

    t "Ладно, я помогу тебе. Но не просто так."

    hero "Другого я от тебя и не ожидал. Сколько будет стоит эта информация?"

    show screen teresa_sprite(pos=1, mouth=1, eyes=3)

    t "5 тысяч монет за один ингредиент."

    hero "..."

    hero "В суме 15 тысяч... Ты знаешь, что я за 10 тысяч могу привести сюда профессора, и он мне поможет не только с этим, а с ещё несколькими, гораздо более полезными и губительными для тебя?"

    show screen teresa_sprite(pos=1, mouth=3, eyes=3)
    
    hero "И поверь, если он увидит разнообразие качественных растений в вашем лесу, а они у вас действительно отличные..."

    hero "..."

    hero "Скажем так, у тебя нет ни единого шанса против группы столичных алхимиков."

    show screen teresa_sprite(pos=1, mouth=1, eyes=4)

    "Когда ты на прямую упоминаешь столичных алхимиков и возможные последствия — она напрягается. По лбу выступают капельки пота."

    hero "Даже против одного, что уж говорить."

    hero "И так уж получилось, что я один из них."

    hide screen teresa_sprite

    "Ты видишь, как её пальцы вцепляются в подлокотники, а плечи слегка вздрагивают."

    "Она слабо глотает, явно продумывая варианты — но ты давишь ровно настолько, чтобы она не озлобилась, а оценила расклад."

    show screen teresa_sprite(pos=2, mouth=3, eyes=3)

    hero  "Не хочу хвастаться или угрожать, но если я захочу, я без особых усилий выпру тебя из этого города, причём ногами вперёд, и приму его к себе в ноги."

    hero "Ни у тебя, ни у кого-то из здешних нет ни единого шанса меня остановить, если я действительно захочу это сделать."

    hero "Поэтому... 15 тысяч?"

    hide screen teresa_sprite

    "Когда ты произносишь последнюю угрозу — спокойную, сухую, как формулу — её взгляд падает вниз. Пауза. А потом..."

    show screen teresa_sprite(pos=2, mouth=1, eyes=3)

    t "Я тебя поняла, 4 тысячи..."

    "Ты не улыбаешься. Просто смотришь, спокойно и прямо. Без злобы, но и без торга."

    hero "Нет, три тысячи."

    show screen teresa_sprite(pos=2, mouth=3, eyes=5)

    "Она на мгновение закрывает глаза, словно за это время можно придумать альтернативную вселенную, где ты исчез."

    show screen teresa_sprite(pos=2, mouth=1, eyes=4)

    t "Парень... Я не хочу рисковать, ни в одном из вариантов... Давай хотя бы на 3.5 тысячах остановимся?"

    hero "Я согласен на 3.5 тысячи и что не буду трогать тебя..."

    show screen teresa_sprite(pos=2, mouth=3, eyes=2)

    hero "Взамен на то что ты не будешь такой сварливой и противной жадной сукой."

    "Ты подаёшь ей руку — не как партнёр, а как человек, уже решивший всё до неё."

    show screen teresa_sprite(pos=0, mouth=1, eyes=1)

    "Она колеблется — совсем немного — и пожимает её."

    t "Ладно..."

    hide screen teresa_sprite

    "Ты поднимаешься, отряхиваешь штаны и не спеша идёшь к выходу. За спиной — нервный выдох и лёгкий лязг кресла, в которое Тереза тяжело осела."

    "Ты не поворачиваешься. Не потому что боишься — просто потому что в этом уже нет смысла."

    "Ты уходишь, и ветер с улицы кажется чуть прохладнее. В тебе нет сожаления. Только ясность."

    "Может, можно было бы мягче. Но иногда мягкость — это путь к катастрофе."